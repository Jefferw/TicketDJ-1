{% extends "tickets/base.html" %}

{% block title %}Dashboard{% endblock %}
{% block content %}
    <div class="Window" style="background-color: white; padding: 20px; height: auto;">
        <div class="title-bar">
            <div class="title-bar-text">Ticket List</div>
          </div>
          <br>
        <div class="sunken-panel" style="height: auto; width: auto; overflow-x: auto;">
            <table class="interactive" style="font-size: 10px;">
                <thead style="position: sticky; top: 0; background-color: white; z-index: 1;">
                    <tr>
                        <th>Ticket ID</th>
                        <th>Issue Type</th>
                        <th>Priority</th>
                        <th>Assigned To</th>
                        <th>Created By</th>
                        <th>Created Datetime</th>
                        <th>Closed Datetime</th>
                        <th>Modified Datetime</th>
                        <th>Ticket Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for ticket in tickets %}
                    <tr onclick="window.location='{% url 'tickets:ticket_detail' ticket.ticket_id %}'" style="cursor: pointer;">
                        <td>{{ ticket.ticket_id }}</td>
                        <td>{{ ticket.issue_type }}</td>
                        <td>{{ ticket.priority }}</td>
                        <td>{{ ticket.assigned_to }}</td>
                        <td>{{ ticket.created_by }}</td>
                        <td>{{ ticket.created_datetime }}</td>
                        <td>{{ ticket.closed_datetime }}</td>
                        <td>{{ ticket.modified_datetime }}</td>
                        <td>{{ ticket.ticket_status }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}